<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>zLUX Example Server | Zowe Docs</title>
    <meta name="description" content="Home of Zowe documentation">
    
    
    <link rel="preload" href="/docs-site/assets/css/55.styles.18234de6.css" as="style"><link rel="preload" href="/docs-site/assets/js/app.0afda202.js" as="script"><link rel="preload" href="/docs-site/assets/js/47.072db56e.js" as="script"><link rel="prefetch" href="/docs-site/assets/js/23.87de67fd.js"><link rel="prefetch" href="/docs-site/assets/js/0.b1e75860.js"><link rel="prefetch" href="/docs-site/assets/js/1.64bba456.js"><link rel="prefetch" href="/docs-site/assets/js/2.46cc7f1f.js"><link rel="prefetch" href="/docs-site/assets/js/3.13ea725b.js"><link rel="prefetch" href="/docs-site/assets/js/4.b4e7d797.js"><link rel="prefetch" href="/docs-site/assets/js/5.c473c6c7.js"><link rel="prefetch" href="/docs-site/assets/js/6.387e2570.js"><link rel="prefetch" href="/docs-site/assets/js/7.cd1b02b4.js"><link rel="prefetch" href="/docs-site/assets/js/8.4ca307b1.js"><link rel="prefetch" href="/docs-site/assets/js/9.0c68629a.js"><link rel="prefetch" href="/docs-site/assets/js/10.e57d74c9.js"><link rel="prefetch" href="/docs-site/assets/js/11.6bda7794.js"><link rel="prefetch" href="/docs-site/assets/js/12.3aaf9add.js"><link rel="prefetch" href="/docs-site/assets/js/13.d557f1b4.js"><link rel="prefetch" href="/docs-site/assets/js/14.a81deb92.js"><link rel="prefetch" href="/docs-site/assets/js/15.6090e158.js"><link rel="prefetch" href="/docs-site/assets/js/16.2ba8d108.js"><link rel="prefetch" href="/docs-site/assets/js/17.54de07af.js"><link rel="prefetch" href="/docs-site/assets/js/18.3f9f4691.js"><link rel="prefetch" href="/docs-site/assets/js/19.76d15518.js"><link rel="prefetch" href="/docs-site/assets/js/20.dd8d039e.js"><link rel="prefetch" href="/docs-site/assets/js/21.e9e96541.js"><link rel="prefetch" href="/docs-site/assets/js/22.bd73206e.js"><link rel="prefetch" href="/docs-site/assets/js/24.6b099b61.js"><link rel="prefetch" href="/docs-site/assets/js/25.8cb2e2a2.js"><link rel="prefetch" href="/docs-site/assets/js/26.6ad94a7b.js"><link rel="prefetch" href="/docs-site/assets/js/27.a5a48b46.js"><link rel="prefetch" href="/docs-site/assets/js/28.0df55b7e.js"><link rel="prefetch" href="/docs-site/assets/js/29.1ff006d7.js"><link rel="prefetch" href="/docs-site/assets/js/30.15fc55a8.js"><link rel="prefetch" href="/docs-site/assets/js/31.8b898f58.js"><link rel="prefetch" href="/docs-site/assets/js/32.8243c2c9.js"><link rel="prefetch" href="/docs-site/assets/js/33.83751f7c.js"><link rel="prefetch" href="/docs-site/assets/js/34.2d61e23a.js"><link rel="prefetch" href="/docs-site/assets/js/35.3a747a77.js"><link rel="prefetch" href="/docs-site/assets/js/36.5791fb5e.js"><link rel="prefetch" href="/docs-site/assets/js/37.6750397e.js"><link rel="prefetch" href="/docs-site/assets/js/38.cc7adcc1.js"><link rel="prefetch" href="/docs-site/assets/js/39.a1af5002.js"><link rel="prefetch" href="/docs-site/assets/js/40.0f926085.js"><link rel="prefetch" href="/docs-site/assets/js/41.371d8723.js"><link rel="prefetch" href="/docs-site/assets/js/42.a7300ef7.js"><link rel="prefetch" href="/docs-site/assets/js/43.4212964e.js"><link rel="prefetch" href="/docs-site/assets/js/44.4f89b060.js"><link rel="prefetch" href="/docs-site/assets/js/45.6a3a91ec.js"><link rel="prefetch" href="/docs-site/assets/js/46.c0aab31c.js"><link rel="prefetch" href="/docs-site/assets/js/48.06187001.js"><link rel="prefetch" href="/docs-site/assets/js/49.562dcc89.js"><link rel="prefetch" href="/docs-site/assets/js/50.f414f8ce.js"><link rel="prefetch" href="/docs-site/assets/js/51.e8fe17ab.js"><link rel="prefetch" href="/docs-site/assets/js/52.ffd77beb.js"><link rel="prefetch" href="/docs-site/assets/js/53.47b68330.js"><link rel="prefetch" href="/docs-site/assets/js/54.a1e31466.js">
    <link rel="stylesheet" href="/docs-site/assets/css/55.styles.18234de6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/docs-site/" class="home-link router-link-active"><!----><span class="site-name">
      Zowe Docs
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/docs-site/guides/intro.html" class="nav-link">Developer Tutorials</a></div><div class="nav-item"><a href="/docs-site/samples/intro.html" class="nav-link">Samples</a></div><div class="nav-item"><a href="/docs-site/user-guide/aboutthisdoc.html" class="nav-link">User Guide</a></div><div class="nav-item"><a href="https://zowe.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Zowe.org
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><a href="https://github.com/zowe/docs-site" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs-site/guides/intro.html" class="nav-link">Developer Tutorials</a></div><div class="nav-item"><a href="/docs-site/samples/intro.html" class="nav-link">Samples</a></div><div class="nav-item"><a href="/docs-site/user-guide/aboutthisdoc.html" class="nav-link">User Guide</a></div><div class="nav-item"><a href="https://zowe.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Zowe.org
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><a href="https://github.com/zowe/docs-site" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/docs-site/guides/intro.html" class="sidebar-link">Developer Tutorials </a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Getting Started with a zLUX</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/docs-site/guides/zlux-workshop-starter-app.html" class="sidebar-link">Workshop starter App</a></li><li><a href="/docs-site/guides/zlux-example-server.html" class="active sidebar-link">zLUX Example Server</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs-site/guides/zlux-example-server.html#server-layout" class="sidebar-link">Server layout</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs-site/guides/zlux-example-server.html#zss-zlux-server-overlap" class="sidebar-link">ZSS &amp; zLUX Server overlap</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs-site/guides/zlux-example-server.html#first-time-installation-use" class="sidebar-link">First-time Installation &amp; Use</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs-site/guides/zlux-example-server.html#_0-optional-install-git-for-z-os" class="sidebar-link">0. (Optional) Install git for z/OS</a></li><li class="sidebar-sub-header"><a href="/docs-site/guides/zlux-example-server.html#_1-acquire-the-source-code" class="sidebar-link">1. Acquire the source code</a></li><li class="sidebar-sub-header"><a href="/docs-site/guides/zlux-example-server.html#_2-acquire-external-components" class="sidebar-link">2. Acquire external components</a></li><li class="sidebar-sub-header"><a href="/docs-site/guides/zlux-example-server.html#_3-set-the-server-configuration" class="sidebar-link">3. Set the server configuration</a></li><li class="sidebar-sub-header"><a href="/docs-site/guides/zlux-example-server.html#_4-build-zlux-apps" class="sidebar-link">4. Build zLUX Apps</a></li><li class="sidebar-sub-header"><a href="/docs-site/guides/zlux-example-server.html#_5-deploy-server-configuration-files" class="sidebar-link">5. Deploy server configuration files</a></li><li class="sidebar-sub-header"><a href="/docs-site/guides/zlux-example-server.html#_6-run-the-server" class="sidebar-link">6. Run the server</a></li><li class="sidebar-sub-header"><a href="/docs-site/guides/zlux-example-server.html#_7-connect-in-a-browser" class="sidebar-link">7. Connect in a browser</a></li><li class="sidebar-sub-header"><a href="/docs-site/guides/zlux-example-server.html#app-configuration" class="sidebar-link">App configuration</a></li><li class="sidebar-sub-header"><a href="/docs-site/guides/zlux-example-server.html#zss-configuration" class="sidebar-link">ZSS Configuration</a></li></ul></li></ul></li><li><a href="/docs-site/guides/zlux-workshop-user-browser.html" class="sidebar-link">User Browser Workshop App</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Provide Liberty APIs</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Onboard Spring Boot REST API services using Zowe API Mediation Layer</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Coming Soon</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="zlux-example-server"><a href="#zlux-example-server" aria-hidden="true" class="header-anchor">#</a> zLUX Example Server</h1><p>This is an example of a server built upon the zLUX framework. Within, you will find a collection of build, deploy, and run scripts as well as configuration files that will help you to configure a simple zLUX server with a few Apps included.</p><h2 id="server-layout"><a href="#server-layout" aria-hidden="true" class="header-anchor">#</a> Server layout</h2><p>At the core of the zLUX App infrastructure backend is an extensible server, written for nodeJS and utilizing expressJS for routing. It handles the backend components of Apps, and also can server as a proxy for requests from Apps to additional servers as needed. One such proxy destination is the ZSS - the zLUX backend component for <strong>Z Secure Services</strong>. It is recommended that everyone who is going to set up a zLUX install contact the Zowe Project, which can provide the ZSS binary to use in the install.</p><p><em>Note: the ZSS binary is not required for a local server</em></p><h3 id="zss-zlux-server-overlap"><a href="#zss-zlux-server-overlap" aria-hidden="true" class="header-anchor">#</a> ZSS &amp; zLUX Server overlap</h3><p>The zLUX Proxy Server and ZSS utilize the same deployment &amp; App/Plugin structure, and share some configuration parameters as well. It is possible to run ZSS and zLUX Proxy Server from the same system, in which case you would be running under z/OS USS. This configuration requires that IBM's version of nodeJS is installed prior.</p><p>Another way to set up zLUX is to have the zLUX Proxy Server running under LUW, while keeping ZSS under USS. This is the configuration scenario presented below. In this scenario, you'll need to clone these github repositories to two different systems, and they'll need to have compatible configurations. For first-timers, it is fine to have identical configuration files and /plugins folders in order to get going.</p><h2 id="first-time-installation-use"><a href="#first-time-installation-use" aria-hidden="true" class="header-anchor">#</a> First-time Installation &amp; Use</h2><p>Getting started with this server requires just a few steps:</p><ol start="0"><li><a href="#0-optional-install-git-for-zos">(Optional) Install git for z/OS</a></li><li><a href="#1-acquire-the-source-code">Acquire the source code</a></li><li><a href="#2-acquire-external-components">Acquire external components</a></li><li><a href="#3-set-the-server-configuration">Set the server configuration</a></li><li><a href="#4-build-zlux-apps">Build zLUX Apps</a></li><li><a href="#5-deploy-server-configuration-files">Deploy server configuration files</a></li><li><a href="#6-run-the-server">Run the server</a></li><li><a href="#7-connect-in-a-browser">Connect in a browser!</a></li></ol><p>So, with that in mind, follow each step and you'll be on your way to your first zLUX Proxy Server instance!</p><h3 id="_0-optional-install-git-for-z-os"><a href="#_0-optional-install-git-for-z-os" aria-hidden="true" class="header-anchor">#</a> 0. (Optional) Install git for z/OS</h3><p>Because all of our code is on github, yet ZSS must run on z/OS and the zLUX Proxy Server may optionally run on z/OS as well, having git on z/OS is the most convenient way to work with the source code. The alternative would be to utilize FTP or another method to transfer contents to z/OS.
If you'd like to go this route, you can find git for z/OS free of charge here: http://www.rocketsoftware.com/product-categories/mainframe/git-for-zos</p><h3 id="_1-acquire-the-source-code"><a href="#_1-acquire-the-source-code" aria-hidden="true" class="header-anchor">#</a> 1. Acquire the source code</h3><p>To get started, first clone or download the github capstone repository, https://github.com/zowe/zlux
As we'll be configuring ZSS on z/OS's USS, and the zLUX Proxy Server on a LUW host, you'll need to put the contents on both systems.
If using git, the following commands should be used:</p><div class="language- extra-class"><pre class="language-text"><code>git clone --recursive git@github.com:zowe/zlux.git
cd zlux
git submodule foreach &quot;git checkout master&quot;
cd zlux-build
</code></pre></div><p>At this point, you'll have the latest code from each repository on your system.
Continue from within zlux-example-server.</p><h3 id="_2-acquire-external-components"><a href="#_2-acquire-external-components" aria-hidden="true" class="header-anchor">#</a> 2. Acquire external components</h3><p>Apps and external servers can require contents not found in the Zowe github repositories. In the case of the zlux-example-server, there is a component which cannot be found in the repositories: a ZSS binary.
If you contact the Zowe project, this will be provided.</p><p>Afterwards, you should receive <em>zssServer</em>.
This must be placed within <em>zlux-build/externals/Rocket</em>, on the z/OS host.
For example:</p><div class="language- extra-class"><pre class="language-text"><code>mkdir externals
mkdir externals/Rocket

//(on z/OS only)
mv zssServer externals/Rocket
</code></pre></div><h3 id="_3-set-the-server-configuration"><a href="#_3-set-the-server-configuration" aria-hidden="true" class="header-anchor">#</a> 3. Set the server configuration</h3><p>Read the <a href="https://github.com/zowe/zlux/wiki/Configuration-for-zLUX-Proxy-Server-&-ZSS" target="_blank" rel="noopener noreferrer">Configuration<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> wiki page for a detailed explanation of the primary items that you'll want to configure for your first server.</p><p>In short, ensure that within <strong>config/zluxserver.json</strong>, <strong>node.http.port</strong> OR <strong>node.https.port + other HTTPS parameters</strong> are set to your liking on the LUW host, and that <strong>zssPort</strong> is set on the z/OS host.</p><p>Before continuing, if you intend to use the terminal, at this time (temporarily) it must be pre-configured to know the destination host.
Edit <em>../tn3270-ng2/_defaultTN3270.json</em> to set <em>host</em> and <em>port</em> to a valid TN3270 server telnet host and port and then save the file.
Edit <em>../vt-ng2/_defaultVT.json</em> to set <em>host</em> and <em>port</em> to a valid ssh host and port and then save the file.</p><h3 id="_4-build-zlux-apps"><a href="#_4-build-zlux-apps" aria-hidden="true" class="header-anchor">#</a> 4. Build zLUX Apps</h3><p><strong>Note when building, NPM is used. The version of NPM needed for the build to succeed should be at least 5.4. You can update NPM by executing <code>npm install -g npm</code></strong></p><p>zLUX Apps can contain server and/or web components. The web components must be built, as webpack is involved in optimized packaging, and server components are also likely to need building if they require external dependencies from NPM, use native code, or are written in typescript.</p><p>This example server only needs transpilation and packaging of web components, and therefore we do not need any special build steps for the host running ZSS.</p><p>Instead, on the host running the zLUX Proxy Server, run the script that will automatically build all included Apps.
Simply,</p><div class="language- extra-class"><pre class="language-text"><code>//Windows
build.bat

//Otherwise
build.sh
</code></pre></div><p>This will take some time to complete.</p><p><em>Note: You will need to have <code>ant</code> and <code>ant-contrib</code> installed</em></p><h3 id="_5-deploy-server-configuration-files"><a href="#_5-deploy-server-configuration-files" aria-hidden="true" class="header-anchor">#</a> 5. Deploy server configuration files</h3><p>If you are running the zLUX Proxy Server separate from ZSS, you must ensure the ZSS installation has its configuration deployed. You can accomplish this via:</p><div class="language- extra-class"><pre class="language-text"><code>ant deploy
</code></pre></div><p>On the other hand, if you are running ZSS and the zLUX Proxy Server on the same host, <em>build.sh</em> and <em>build.bat</em> execute <em>deploy</em> and therefore this task was accomplished in step #4.</p><p>However, if you need to change the server configuration files or want to add more Apps to be included at startup, you'll need to update the deploy content to reflect this. Simply running deploy.bat or deploy.sh will accomplish this, but files such as zluxserver.json are only read at startup, so a reload of the zLUX Proxy Server &amp; ZSS would be required.</p><h3 id="_6-run-the-server"><a href="#_6-run-the-server" aria-hidden="true" class="header-anchor">#</a> 6. Run the server</h3><p>At this point, all server files have been configured and Apps built, so ZSS and the App server are ready to run.
First, from the z/OS system, start ZSS.</p><div class="language- extra-class"><pre class="language-text"><code>cd ../zlux-example-server/bin
./zssServer.sh
</code></pre></div><p>This should start the zssServer. If the server did not start, two common sources of error are:</p><ol><li>The <em>zssPort</em> chosen is already occupied. To fix, edit <em>config/zluxserver.json</em> to choose a new one, and re-run <em>build/deploy.sh</em> to have that change take effect.</li><li>The zssServer binary does not have the APF bit set. Since this server is meant for secure services, it is required. To fix, execute <code>extattr +a zssServer</code>. Note you may need to alter the execute permissions of zssServer.sh in the event that the previous command is not satisfactory (eg chmod +x zssServer.sh)</li></ol><p>Second, from the system with the zLUX Proxy Server, start it with a few parameters to hook it to ZSS.</p><div class="language- extra-class"><pre class="language-text"><code>cd ../zlux-example-server/bin

// Windows:
nodeServer.bat &lt;parameters&gt;

// Others:
nodeServer.sh &lt;parameters&gt;
</code></pre></div><p>Valid parameters for nodeServer are as follows:</p><ul><li><em>-h</em>: Specifies the hostname where ZSS can be found. Use as <code>-h \&lt;hostname\&gt;</code></li><li><em>-P</em>: Specifies the port where ZSS can be found. Use as <code>-P \&lt;port\&gt;</code>. This overrides <em>zssPort</em> from the configuration file.</li><li><em>-p</em>: Specifies the HTTP port to be used by the zLUX Proxy Server. Use as <code>-p &lt;port&gt;</code>. This overrides <em>node.http.port</em> from the configuration file.</li><li><em>-s</em>: Specifies the HTTPS port to be used by the zLUX Proxy Server. Use as <code>-s &lt;port&gt;</code>. This overrides <em>node.https.port</em> from the configuration file.</li><li><em>--noChild</em>: If specified, tells the server to ignore and skip spawning of child processes defined as <em>node.childProcesses</em> in the configuration file.</li></ul><p>In the example where we're running ZSS on a host named mainframe.zowe.com, running on zssPort = 19997, the Proxy server running on Windows could be started with the following:</p><p><code>nodeServer.bat -h mainframe.zowe.com -P 19997 -p 19998</code></p><p>After which we'd be able to connect to the Proxy server at port 19998.</p><p><strong>NOTE: the parameter parsing is provided by <a href="https://github.com/zowe/zlux-proxy-server/blob/master/js/argumentParser.js" target="_blank" rel="noopener noreferrer">argumentParser.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which allows for a few variations of input, depending on preference. For example, the following are all valid ways to specify the ZSS host</strong></p><ul><li><strong>-h myhost.com</strong></li><li><strong>-h=myhost.com</strong></li><li><strong>--hostServer myhost.com</strong></li><li><strong>--hostServer=myhost.com</strong></li></ul><p>When the zLUX Proxy Server has started, one of the last messages you will see as bootstrapping completes is that the server is listening on the HTTP/s port. At this time, you should be able to use the server.</p><h3 id="_7-connect-in-a-browser"><a href="#_7-connect-in-a-browser" aria-hidden="true" class="header-anchor">#</a> 7. Connect in a browser</h3><p>Now that ZSS &amp; the zLUX Proxy Server are both started, you can access this instance by pointing your web browser to the zLUX Proxy Server.
In this example, the address you will want to go to first is the location of the window management App - Mainframe Virtual Desktop (MVD).
The URL for this is:</p><p><code>http(s)://\&lt;zLUX Proxy Server\&gt;:\&lt;node.http(s).port\&gt;/ZLUX/plugins/com.rs.mvd/web/index.html</code></p><p>Once here, you should be greeted with a Login screen and a few example Apps in the taskbar at the bottom of the screen. You can login with your mainframe credentials, and try out a few Apps to see how they interact with the framework:</p><ul><li>tn3270-ng2: This App communicates with the zLUX Proxy Server to enable a TN3270 connection in the browser</li><li>subsystems: This App shows various z/OS subsystems installed on the host the ZSS runs on. This is accomplished via discovery of these services by the App's portion running in the ZSS context.</li><li>sample-app: A simple app showing how a zLUX App frontend (Angular) component can communicate with an App backend (REST) component.</li></ul><h4 id="deploy-example"><a href="#deploy-example" aria-hidden="true" class="header-anchor">#</a> Deploy example</h4><div class="language- extra-class"><pre class="language-text"><code>// All paths relative to zlux-example-server/js or zlux-example-server/bin
// In real installations, these values will be configured during the install.
  &quot;rootDir&quot;:&quot;../deploy&quot;,
  &quot;productDir&quot;:&quot;../deploy/product&quot;,
  &quot;siteDir&quot;:&quot;../deploy/site&quot;,
  &quot;instanceDir&quot;:&quot;../deploy/instance&quot;,
  &quot;groupsDir&quot;:&quot;../deploy/instance/groups&quot;,
  &quot;usersDir&quot;:&quot;../deploy/instance/users&quot;
</code></pre></div><h3 id="app-configuration"><a href="#app-configuration" aria-hidden="true" class="header-anchor">#</a> App configuration</h3><p>This section does not cover any dynamic runtime inclusion of Apps, but rather Apps defined in advance.
In the configuration file, a directory can be specified which contains JSON files which tell the server what App is to be included and where to find it on disk. The backend of these Apps use the Server's Plugin structure, so much of the server-side references to Apps use the term Plugin.</p><p>To include Apps, be sure to define the location of the Plugins directory in the configuration file, via the top-level attribute <em>pluginsDir</em></p><p><strong>NOTE: In this repository, the directory for these JSON files is /plugins. Yet, in order to separate configuration files from runtime files, the zlux-example-server repository copies the contents of this folder into /deploy/instance/ZLUX/plugins. So, the example configuration file uses the latter directory.</strong></p><h4 id="plugins-directory-example"><a href="#plugins-directory-example" aria-hidden="true" class="header-anchor">#</a> Plugins directory example</h4><div class="language- extra-class"><pre class="language-text"><code>// All paths relative to zlux-example-server/js or zlux-example-server/bin
// In real installations, these values will be configured during the install.
//...
  &quot;pluginsDir&quot;:&quot;../deploy/instance/ZLUX/plugins&quot;,
</code></pre></div><h3 id="zss-configuration"><a href="#zss-configuration" aria-hidden="true" class="header-anchor">#</a> ZSS Configuration</h3><p>When running ZSS, it will require a JSON configuration file similar or the same as the one used for the zLUX server. The attributes that are needed for ZSS, at minimum, are:<em>rootDir</em>, <em>productDir</em>, <em>siteDir</em>, <em>instanceDir</em>, <em>groupsDir</em>, <em>usersDir</em>, <em>pluginsDir</em> and <strong>zssPort</strong>. All of these attributes have the same meaning as described above for the zLUX server, but if the zLUX server and ZSS are not run from the same location, then these directories may be different if desired.</p><p>The one attribute that is specific to ZSS however is <strong>zssPort</strong>. This is the TCP port which ZSS will listen on to be contacted by the zLUX server. Define this in the configuration file as a value between 1024-65535.</p><h4 id="connecting-zlux-server-to-zss"><a href="#connecting-zlux-server-to-zss" aria-hidden="true" class="header-anchor">#</a> Connecting zLUX server to ZSS</h4><p>When running the zLUX server, simply specify a few flags to declare which ZSS instance zLUX will proxy ZSS requests to:</p><ul><li><em>-h</em>: Declares the host where ZSS can be found. Use as <code>-h \&lt;hostname\&gt;</code></li><li><em>-P</em>: Declares the port at which ZSS is listening. Use as <code>-P \&lt;port\&gt;</code></li></ul></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/zowe/docs-site/edit/master/docs/guides/zlux-example-server.md" target="_blank" rel="noopener noreferrer">Propose content change in GitHub.</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="last-updated"><span class="prefix">Last Updated: </span><span class="time">8/13/2018, 5:39:11 PM</span></div></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/docs-site/guides/zlux-workshop-starter-app.html" class="prev">
          Workshop starter App
        </a></span><span class="next"><a href="/docs-site/guides/zlux-workshop-user-browser.html">
          User Browser Workshop App
        </a> →
      </span></p></div></div></div></div>
    <script src="/docs-site/assets/js/47.072db56e.js" defer></script><script src="/docs-site/assets/js/app.0afda202.js" defer></script>
  </body>
</html>
